{"version":3,"sources":["intell.js","intell.controls.js"],"names":["intell","window","tryToShow","element","elementcomputedStyle","getComputedStyle","style","display","undefined","$$","Rectangle","left","top","width","height","int","prototype","x","y","Object","defineProperties","get","this","set","newValue","right","bottom","intersectsWith","rect","rLeft","rTop","rWidth","rHeight","contains","Event","preventDefault","defaultPrevented","value","writable","createOnFunction","target","type","handler","option","addEventListener","apply","arguments","createEventFunction","onlyFire1time","fn","callback","called","calledArguments","events","push","i","length","url","request","XMLHttpRequest","open","on","loadstart","readystatechange","progress","load","loadend","error","post","upload","timeout","getRectWhenShowAt","targetRect","elementRect","location","targetRect_Left","targetRect_Top","targetRect_Width","targetRect_Height","result","position","perfect","canSeeTarget","insideRect","space","margin","indexOf","findPlaceToShow","locations","o","results","showAt","popup","HTMLElement","assign","insideOffsetParent","offsetParent","inside_offset","$","innerOffset","clientWidth","clientHeight","insideWindow","document","documentElement","scrollWidth","scrollHeight","$popup","css","visibility","target_offset","offset","offsetWidth","offsetHeight","goodPlace","point","qs","search","substr","split","r","p","decodeURIComponent","String","between","startWith","endWith","include","index_start","index_end","substring","Number","formatNumber","separate","decimal_point","decimals","array","toFixed","toString","input","unshift","splitWithoutDelimiter","splice","join","_registered_clickout_items","clickoutside","event","e","path","compatible","getFullPath","item","call","capture","mousedownoutside_items","mousedownoutside","styles","parseFloat","borderLeftWidth","replace","borderTopWidth","centerOffset","outerWidth","outerHeight","positionOfOffset","current_offset","current_postion","controls","startHide","delayHideClass","oncomplete","addClass","timerHander","setTimeout","stopHide","hide","items","Menu","jQuery","__Menu__","menu","$menu","showOnHover","rootLocations","rootOption","popupLocations","popupOption","enableDropdownArrow","delayHideTime","rootDelayHideTime","activeClass","firstActiveClass","isVisible","isFadingOut","stopFadingOut","removeClass","find","add","each","console","warn","setItems","remove","append","createMenuItemsElement","show","arg1","arg2","arg3","ondropdownopen","hideDropDownImmediately","rootElement","ondropdownclose","onmenuitemclick","mousedown","originalEvent","buttons","$closest","closest","is","mouseup","button","$menu_item","mouseenter","hasPreviousMenu","parent","not","activedMenu","mouseleave","$current","$previous","$needHide","$items","$active","$arrow1","$arrow2","SetArrowDirection","clearTimeout","elements","$X_Menu_Item","$label","$icon","$name","icon","html","name","shortcut","children","arrow","$arrow","$target","Math","round","ContextMenu","__ContextMenu__","contextMenu","$contextMenu","argument1","argument2","hideImmediately","NumericUpDown","__NumericUpDown__","control","_$element","_$input","_input","_$up","_$down","HTMLInputElement","isNaN","session_value","increment","unit","min","max","decimalPlaces","updateString","val","session_increaseBy","number","parseInt","onchange","keyup","keydown","keyCode","blur","activeElement","wheelDelta","click","focus","focusout","oldValue","keypress","key","Slideshow","__Slideshow__","previousSlider","currentSlider","_$items","index","interval","inClass","nextInClass","prevInClass","scrollEnabled","delayHide_hTimer","interval_hTimer","count","setIndex","refreshScroll","next","prev","newIndex","action","actionClass","start","stop","$scrolls","$scroll","TagsInput","__TagsInput__","_$tag_BASE","confirmKeys","getTagElementByValue","_$tags","eq","innerText","localeCompare","sensitivity","insertBeforeInput","text","_tag","animation","_clone_tag","clone","insertBefore","values","Array","isArray","setAttribute","tag","trim","insertAfter","newTag","ComboBox","__ComboBox__","$element","$options","selectedIndex","options_element","childElementCount","e_onlabel","onlabel","outerHTML","selectedElement","ev","parentsUntil","TargetPopup","overrideOption","__TargetPopup__","previousSolution","autoHide","targetActiveClass","setTarget","Element","previous_isVisible","onshow","onhide","showOption"],"mappings":"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","file":"intell.min.js","sourcesContent":["// <reference path=\"intell.d.ts\" />\r\n'use strict';\r\n\r\n\r\n\r\n(function() {\r\n    var intell = window.intell = {};\r\n    if (window.$$ == undefined) window.$$ = intell;\r\n       \r\n    \r\n    \r\n    intell.Rectangle = function Rectangle(left, top, width, height) {\r\n        if (Rectangle.int == undefined) {\r\n            Rectangle.int = true;\r\n\r\n            Rectangle.prototype.x = 0;\r\n            Rectangle.prototype.y = 0;\r\n            Rectangle.prototype.width = 0;\r\n            Rectangle.prototype.height = 0;\r\n\r\n            Object.defineProperties(Rectangle.prototype, {\r\n                left: {\r\n                    get: function() { return this.x },\r\n                    set: function(newValue) { this.x = newValue }\r\n                },\r\n                top: {\r\n                    get: function() { return this.y },\r\n                    set: function(newValue) { this.y = newValue }\r\n                },\r\n                right: {\r\n                    get: function() { return this.x + this.width },\r\n                    set: function(newValue) { this.x = newValue - this.width }\r\n                },\r\n                bottom: {\r\n                    get: function() { return this.y + this.height },\r\n                    set: function(newValue) { this.y = newValue - this.height }\r\n                }\r\n            });\r\n\r\n            Rectangle.prototype.intersectsWith = function(rect) {\r\n                var rLeft = rect.left;\r\n                var rTop = rect.top;\r\n                var rWidth = rect.width;\r\n                var rHeight = rect.height;\r\n\r\n                if (rWidth == undefined) rWidth = 0;\r\n                if (rHeight == undefined) rHeight = 0;\r\n\r\n                return (rLeft < this.left + this.width) && (this.left < rLeft + rWidth) &&\r\n                      (rTop < this.top + this.height) && (this.top < rTop + rHeight);\r\n\r\n            }\r\n            Rectangle.prototype.contains = function(rect) {\r\n                \r\n                return (this.left <= rect.left) && (this.top + this.width >= rect.top + rect.width) &&\r\n                    (this.top <= rect.top) && (this.top + this.height >= rect.top + rect.height);\r\n            }\r\n        }\r\n\r\n        this.x = left || 0;\r\n        this.y = top || 0;\r\n        this.width = width || 0;\r\n        this.height = height || 0;\r\n    }\r\n    intell.Event = function Event() {\r\n        if (Event.int == undefined) {\r\n            Event.prototype.preventDefault = function () { this.defaultPrevented = true }\r\n            Event.int = true;\r\n        }\r\n        if (this instanceof Event == false) return new Event();\r\n        ////////////////////////////////////////////////\r\n\r\n        Object.defineProperties(this, {\r\n            defaultPrevented: { value: false, writable: true }\r\n        });\r\n    }\r\n\r\n    intell.createOnFunction = function (target) {\r\n        return function on(type, handler, option) {\r\n            if (target == undefined) target = this;\r\n            target.addEventListener.apply(target, arguments)\r\n\r\n            return this;\r\n        }\r\n    }\r\n    intell.createEventFunction = function (onlyFire1time) {\r\n        var fn = function (callback) {\r\n            if (typeof callback == \"function\") {\r\n                if (onlyFire1time && fn.called == true) callback.apply(this, fn.calledArguments)\r\n                else fn.events.push(callback);\r\n            } else {\r\n                for (var i = 0; i < fn.events.length; i++) fn.events[i].apply(this, arguments);\r\n                fn.called = true;\r\n                fn.calledArguments = arguments;\r\n            }\r\n            return this;\r\n        };\r\n        fn.events = [];\r\n        return fn;\r\n    };\r\n\r\n    intell.get = function(url) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', url);\r\n\r\n        request.on = intell.createOnFunction();\r\n        request.loadstart = function(callback) { return this.on('loadstart', callback) }\r\n        request.readystatechange = function(callback) { return this.on('readystatechange', callback) }\r\n        request.progress = function(callback) { return this.on('progress', callback) }\r\n        request.load = function(callback) { return this.on('load', callback) }\r\n        request.loadend = function(callback) { return this.on('loadend', callback) }\r\n        request.error = function(callback) { return this.on('error', callback) }\r\n\r\n        return request;\r\n    };\r\n    intell.post = function(url) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('POST', url);\r\n\r\n        request.on = intell.createOnFunction();\r\n        request.loadstart = function(callback) { return this.on('loadstart', callback) }\r\n        request.progress = function(callback) { return this.on('progress', callback) }\r\n        request.error = function(callback) { return this.on('error', callback) }\r\n        request.load = function(callback) { return this.on('load', callback) }\r\n        request.loadend = function(callback) { return this.on('loadend', callback) }\r\n        request.readystatechange = function(callback) { return this.on('readystatechange', callback) }\r\n\r\n\r\n        request.upload.on = intell.createOnFunction();\r\n        request.upload.loadstart = function(callback) { return this.on('loadstart', callback) }\r\n        request.upload.progress = function(callback) { return this.on('progress', callback) }\r\n        request.upload.error = function(callback) { return this.on('error', callback) }\r\n        request.upload.timeout = function(callback) { return this.on('timeout', callback) }\r\n        request.upload.load = function(callback) { return this.on('load', callback) }\r\n        request.upload.loadend = function(callback) { return this.on('loadend', callback) }\r\n\r\n\r\n\r\n        return request;\r\n    };\r\n\r\n    // 2 overloads: rectangle and point\r\n    intell.getRectWhenShowAt = function(targetRect, elementRect, location, option) {\r\n\r\n        // handle overloads\r\n        var targetRect_Left = targetRect.left;\r\n        var targetRect_Top = targetRect.top;\r\n        var targetRect_Width = (targetRect.width == undefined ? 0 : targetRect.width);    // cover point to rectangle\r\n        var targetRect_Height = (targetRect.height == undefined ? 0 : targetRect.height); // cover point to rectangle\r\n\r\n\r\n        var result = { location: location };\r\n\r\n        var position = new $$.Rectangle(0, 0, elementRect.width, elementRect.height);\r\n        var perfect = true;\r\n        var canSeeTarget = true;\r\n\r\n        option = (option == undefined ? {} : option);\r\n        var insideRect = option.insideRect;\r\n        var space = option.space | 0;\r\n        var margin = option.margin | 0;\r\n\r\n        switch (location) {\r\n            case 1: case 9:\r\n                position.left = targetRect_Left; break;\r\n            case 2: case 8:\r\n                position.left = targetRect_Left + (targetRect_Width - position.width) / 2; break;\r\n            case 3: case 7:\r\n                position.left = targetRect_Left + targetRect_Width - position.width; break;\r\n            case 4: case 5: case 6:\r\n                position.left = targetRect_Left + targetRect_Width + space; break;\r\n            case 10: case 11: case 12:\r\n                position.left = targetRect_Left - position.width - space; break;\r\n        }\r\n        switch (location) {\r\n            case 1: case 2: case 3:\r\n                position.top = targetRect_Top - position.height - space; break;\r\n            case 4: case 12:\r\n                position.top = targetRect_Top; break;\r\n            case 5: case 11:\r\n                position.top = targetRect_Top + (targetRect_Height - position.height) / 2; break;\r\n            case 6: case 10:\r\n                position.top = targetRect_Top + targetRect_Height - position.height; break;\r\n            case 7: case 8: case 9:\r\n                position.top = targetRect_Top + targetRect_Height + space; break;\r\n        }\r\n\r\n\r\n        if (insideRect != undefined) {\r\n            \r\n            //#regionCheck Left\r\n            //if popup.Width greater insideRect\r\n            if (position.width > insideRect.width) {\r\n                position.left = insideRect.left;\r\n                perfect = false;\r\n            }\r\n            else if (position.width + 2 * margin > insideRect.width) {\r\n                position.left = insideRect.left + (insideRect.width - position.width) / 2;\r\n                perfect = false;\r\n            }\r\n            else {\r\n                // if position is outside left Bound\r\n                if (position.left < insideRect.left + margin) {\r\n                    position.left = insideRect.left + margin;\r\n                    if ([1, 2, 3, 7, 8, 9].indexOf(location) == -1) perfect = false\r\n                }\r\n                // if position is outside right Bound\r\n                if (position.right > insideRect.left + insideRect.width - margin) {\r\n                    position.right = insideRect.left + insideRect.width - margin;\r\n                    if ([1, 2, 3, 7, 8, 9].indexOf(location) == -1) perfect = false\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            if (position.height > insideRect.height) { position.top = insideRect.top; perfect = false; }\r\n            else if (position.height + 2 * margin > insideRect.height) {\r\n                position.top = insideRect.top + (insideRect.height - position.height) / 2;\r\n                perfect = false;\r\n            }\r\n            else {\r\n                // if position is outside top Bound\r\n                if (position.top < insideRect.top + margin) {\r\n                    position.top = insideRect.top + margin;\r\n                    if ([4, 5, 6, 10, 11, 12].indexOf(location) == -1) perfect = false;\r\n                }\r\n                // if position is outside bottom Bound\r\n                if (position.bottom > insideRect.top + insideRect.height - margin) {\r\n                    position.bottom = insideRect.top + insideRect.height - margin;\r\n                    if ([4, 5, 6, 10, 11, 12].indexOf(location) == -1) perfect = false;\r\n                }\r\n            }\r\n\r\n            // check if intersectsWith targetRect\r\n            if (position.intersectsWith(targetRect) == true) { canSeeTarget = false; }\r\n        }\r\n\r\n        result.position = position;\r\n        result.perfect = perfect;\r\n        result.canSeeTarget = canSeeTarget;\r\n        \r\n        return result;\r\n    };\r\n    // 2 overloads: rectangle and point\r\n    intell.findPlaceToShow = function (targetRect, elementRect, locations, option) {\r\n        // \r\n        // locations= [1, 2, 3, 4, 5, 6, 7]\r\n\r\n        var o = {};\r\n        var results = o.results = [];\r\n\r\n\r\n\r\n        for (var i = 0; i < locations.length; i++) {\r\n            var result = results[i] = intell.getRectWhenShowAt(targetRect, elementRect, locations[i], option);\r\n            result.location = locations[i];\r\n\r\n            if (result.perfect == true) {\r\n                o.location = result.location;\r\n                o.position = result.position;\r\n                o.canSeeTarget = result.canSeeTarget;\r\n                return o;\r\n            }\r\n        }\r\n\r\n        o.location = results[0].location;\r\n        o.position = results[0].position;\r\n        o.canSeeTarget = results[0].canSeeTarget;\r\n        return o;\r\n    }\r\n\r\n\r\n    intell.showAt = function(target, popup, locations, option) {\r\n        //findPlaceToShow(targetRect: Intell.Rectangle, elementRect: Intell.Rectangle, locations: number[], option?: Intell.IGetRectWhenShowAtOption): Intell.IShowAtResult;\r\n        //findPlaceToShow(targetPoint: JQuery.Coordinates, elementRect: Intell.Rectangle, locations: number[], option ?: Intell.IGetRectWhenShowAtOption): Intell.IShowAtResult;\r\n        if (target instanceof HTMLElement == true) return showAtElement.apply(this, arguments);\r\n        else return showAtPoint.apply(this, arguments);\r\n    }\r\n    function showAtElement(target, popup, locations, option) {\r\n        if (option != undefined) {\r\n            var option = Object.assign({}, option)\r\n\r\n            //if option.insideRect == null, we will help to create them from options\r\n            if (option.insideRect == undefined) {\r\n                if (option.insideOffsetParent == true) {\r\n                    var offsetParent = target.offsetParent;\r\n                    var inside_offset = $(offsetParent).innerOffset();\r\n\r\n                    option.insideRect = new intell.Rectangle(inside_offset.left, inside_offset.top, offsetParent.clientWidth, offsetParent.clientHeight);\r\n                } else if (option.insideWindow == true) {\r\n                    option.insideRect = new intell.Rectangle(0, 0, document.documentElement.scrollWidth, document.documentElement.scrollHeight);\r\n                }\r\n            }\r\n        }\r\n\r\n        var $popup = $(popup);\r\n        //1. prevent flicker - set left and hidden\r\n        $popup.css({ left: '-900px', visibility: 'hidden' });\r\n\r\n        //2. Try to show popup to DOM.\r\n        tryToShow(popup);\r\n\r\n        //3. Get targetRect and elementRect for findPlaceToShow() function\r\n        var targetRect;\r\n        var $target = $(target);\r\n        var target_offset = $target.offset();\r\n        targetRect = { left: target_offset.left, top: target_offset.top, width: target.offsetWidth, height: target.offsetHeight };\r\n\r\n        var elementRect = { left: 0, top: 0, width: popup.offsetWidth, height: popup.offsetHeight };\r\n\r\n        //4. get position and show\r\n        var goodPlace = intell.findPlaceToShow(targetRect, elementRect, locations, option);\r\n        $(popup).offset(goodPlace.position);\r\n        $popup.css({ visibility: '' });\r\n\r\n        return goodPlace;\r\n    }\r\n    function showAtPoint(point, popup, locations, option) {\r\n        if (option != undefined) {\r\n            var option = Object.assign({}, option)\r\n            \r\n            //if option.insideRect == null, we will help to create them from options\r\n            if (option.insideRect == undefined) {\r\n                if (option.insideWindow == true) option.insideRect = new intell.Rectangle(0, 0, document.documentElement.scrollWidth, document.documentElement.scrollHeight);\r\n                \r\n            }\r\n        }\r\n\r\n        var $popup = $(popup);\r\n        //1. prevent flicker - set left and hidden\r\n        $popup.css({ left: '-900px', visibility: 'hidden' });\r\n\r\n        //2. Try to show popup to DOM.\r\n        tryToShow(popup);\r\n        \r\n        //3. Get targetRect and elementRect for findPlaceToShow() function\r\n        //var $target = $(target);\r\n        var target_offset = point; //$target.offset();\r\n        var elementRect = { left: 0, top: 0, width: popup.offsetWidth, height: popup.offsetHeight };\r\n        //var targetRect = { left: target_offset.left, top: target_offset.top, width: target.offsetWidth, height: target.offsetHeight };\r\n\r\n        //4. get position and show\r\n        var goodPlace = intell.findPlaceToShow(target_offset, elementRect, locations, option);\r\n        $popup.offset(goodPlace.position).css({ visibility: '' });\r\n\r\n        return goodPlace;\r\n    }\r\n\r\n\r\n    function tryToShow(element) {\r\n        var elementcomputedStyle = window.getComputedStyle(element);\r\n        if (element.style.display == 'none') element.style.display = '';\r\n        if (elementcomputedStyle.display == 'none') element.style.display = 'block';\r\n    }\r\n\r\n    intell.qs = function (search) {\r\n        ///<signature>\r\n        ///<summary>Parse the location.search, constructing the JavaScript value or object described by the string.</summary>\r\n        ///<returns type=\"Object\"/>\r\n        ///</signature>\r\n\r\n        ///<signature>\r\n        ///<summary>Parse a query string, constructing the JavaScript value or object described by the string.</summary>\r\n        ///<param name='search' type='String'/>\r\n        ///<returns type=\"Object\"/>\r\n        ///</signature>\r\n        search = search || window.location.search.substr(1);\r\n        var o = search.split('&');\r\n\r\n        var r = {};\r\n        for (var i = 0; i < o.length; i++) {\r\n            if (o[i] == \"\") continue;\r\n\r\n            var p = o[i].split('=');\r\n            p[0] = decodeURIComponent(p[0]);\r\n            p[1] = decodeURIComponent(p[1] == undefined ? '' : p[1]);\r\n            r[p[0]] = p[1];\r\n        };\r\n        return r;\r\n    };\r\n\r\n\r\n})();\r\n\r\n/*********   String Extension   *********/\r\n!function () {\r\n    String.prototype.between = function (startWith, endWith, include) {\r\n        ///<signature>  \r\n        ///<summary>returns the part of the string between the start and end string.</summary>\r\n        ///<param name='startWith' type=\"String\">.</param>\r\n        ///<param name='endWith' type=\"String\">.</param>\r\n        ///<param name='include' type=\"Boolean\">.</param>\r\n        ///<returns type=\"String\"/>\r\n        ///</signature>\r\n        \r\n        var index_start = this.indexOf(startWith);\r\n        if (index_start == -1) return null;\r\n\r\n\r\n        var index_end = this.indexOf(endWith, index_start + startWith.length);\r\n        if (index_end == -1) return null;\r\n\r\n        if (include == true)\r\n            return this.substring(index_start, index_end + endWith.length);\r\n        else\r\n            return this.substring(index_start + startWith.length, index_end);\r\n\r\n    }\r\n}();\r\n/*********   Number Extension   *********/\r\n!function () {\r\n    function splitWithoutDelimiter(input) {\r\n        //input = '-212';\r\n        //output = ['-','212']\r\n\r\n        var array = [];\r\n        var i = input.length;\r\n\r\n        for (var i = 1; i < 100; i++) {\r\n\r\n            if (input.length - i * 3 > 0) {\r\n                array.unshift(input.substr(input.length - i * 3, 3));\r\n            } else {\r\n                array.unshift(input.substr(0, input.length - i * 3 + 3));\r\n                break;\r\n            }\r\n        }\r\n\r\n        return array;\r\n\r\n    };\r\n\r\n\r\n    Number.prototype.formatNumber = function (option) {\r\n        ///<signature>  \r\n        ///<summary>Format number into string; 1,000,000.12;</summary>\r\n        ///<returns type=\"String\"/>\r\n        ///</signature>\r\n        ///<glyph>vs:GlyphGroupTemplate</glyph>\r\n\r\n        if (option == undefined) option = {};\r\n\r\n        var separate = (option.separate == null ? ',' : option.separate);\r\n        var decimal_point = option.decimal_point || '.';\r\n        var decimals = option.decimals;\r\n\r\n        var text;\r\n        if (decimals) text = this.toFixed(decimals); // \"-100.230\"\r\n        else text = this.toString(); // \"-100.23\"\r\n        \r\n        var array = text.split('.');\r\n        var left = array[0];  // \"-100\"\r\n        var right = array[1]; // \"23\"\r\n        \r\n        var left = splitWithoutDelimiter(left); // ['-', 100] \r\n        if (left[0] == '-') {\r\n            left[0] = '';\r\n            left[1] = '-' + left[1];\r\n            left.splice(0, 1);\r\n        }\r\n\r\n        left = left.join(separate); \r\n        \r\n        if (right) return left + decimal_point + right;\r\n        else return left;\r\n\r\n        \r\n    }\r\n}();\r\n\r\n/*********   Jquery Extension   *********/\r\n!function() {\r\n    var _registered_clickout_items = [];\r\n    $.fn.clickoutside = function(callback) {\r\n        for (var i = 0; i < this.length; i++) {\r\n            _registered_clickout_items.push({ element: this[i], event: callback });\r\n        }\r\n        return this;\r\n    }\r\n    window.addEventListener('click', function(e) {\r\n\r\n        var path = e.path || intell.compatible.getFullPath(e.target);\r\n        for (var i = 0; i < _registered_clickout_items.length; i++) {\r\n            var item = _registered_clickout_items[i];\r\n\r\n            if (path.indexOf(item.element) == -1) item.event.call(item.element, e);\r\n        }\r\n    }, { capture: true });\r\n\r\n\r\n    var mousedownoutside_items = [];\r\n    $.fn.mousedownoutside = function(callback) {\r\n        for (var i = 0; i < this.length; i++)\r\n            mousedownoutside_items.push({ element: this[i], event: callback });\r\n        return this;\r\n    }\r\n    window.addEventListener('mousedown', function(e) {\r\n\r\n        var path = e.path || intell.compatible.getFullPath(e.target);\r\n        for (var i = 0; i < mousedownoutside_items.length; i++) {\r\n            var item = mousedownoutside_items[i];\r\n\r\n            if (path.indexOf(item.element) == -1) item.event.call(item.element, e);\r\n        }\r\n    }, { capture: true });\r\n\r\n    $.fn.innerOffset = function() {\r\n        var offset = this.offset();\r\n        var styles = getComputedStyle(this[0]);\r\n        offset.left += parseFloat(styles.borderLeftWidth.replace('px'));\r\n        offset.top += parseFloat(styles.borderTopWidth.replace('px'));\r\n\r\n        return offset;\r\n    }\r\n    $.fn.centerOffset = function() {\r\n        var offset = this.offset();\r\n        offset.left += this.outerWidth() / 2;\r\n        offset.top += this.outerHeight() / 2;\r\n\r\n        return offset;\r\n    }\r\n\r\n    $.fn.positionOfOffset = function(offset) {\r\n        var current_offset = this.offset();\r\n        var current_postion = this.position();\r\n\r\n        var position = { left: 0, top: 0 };\r\n\r\n        position.left = current_postion.left + offset.left - current_offset.left;\r\n        position.top = current_postion.top + offset.top - current_offset.top;\r\n\r\n        return position;\r\n    }\r\n}();\r\n","'use strict';\r\n\r\n!(function () {\r\n    if (window.intell == undefined) window.intell = {};\r\n\r\n    /** @type {intell2} */\r\n    var intell = window.intell;\r\n\r\n       \r\n\r\n    var controls = intell.controls = {};\r\n\r\n\r\n    controls.hide = function (element) {\r\n        var elementcomputedStyle = window.getComputedStyle(element);\r\n        if (elementcomputedStyle.display != 'none') element.style.display = 'none';        \r\n    }\r\n    function startHide(element, timeout, delayHideClass, oncomplete) {\r\n\r\n        //controls.stopHide(element);\r\n\r\n        var $element = $(element);\r\n        $element.addClass(delayHideClass);\r\n\r\n\r\n        var timerHander = setTimeout(function () {\r\n            //$element.removeClass(delayHideClass);\r\n            controls.stopHide(element);\r\n\r\n            controls.hide(element);\r\n\r\n            if (typeof oncomplete === \"function\") oncomplete();\r\n        }, timeout);\r\n\r\n        startHide.items.push({ element: element, timerHander: timerHander, delayHideClass: delayHideClass });\r\n\r\n        return timerHander;\r\n    }\r\n    startHide.items = [];\r\n    controls.startHide = startHide;\r\n    controls.stopHide = function(element) {\r\n        \r\n        for (var i = 0; i < startHide.items.length; i++) {\r\n            var item = startHide.items[i];\r\n            if (item.element == element) {\r\n                $(item.element).removeClass(item.delayHideClass);\r\n                clearTimeout(item.timerHander);\r\n\r\n                startHide.items.splice(i, 1)\r\n                return;\r\n            } \r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * @this Intell.Controls.Menu\r\n     * @param {HTMLElement} element\r\n     * @param {Intell.Controls.MenuOption} option\r\n     */\r\n    function Menu(element, option) {\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__Menu__ != undefined) return element.__Menu__;\r\n        if (this instanceof Menu == false) return new Menu(element, option);\r\n        //////////////////////////////////////////////\r\n\r\n        /** @type {Intell.Controls.Menu} */\r\n        var menu = element.__Menu__ = this;\r\n        var $menu = $(element);\r\n        //properties\r\n        var showOnHover = false;\r\n        var rootLocations = [9, 1];\r\n        var rootOption = { insideWindow: true, space: -1 }\r\n        var popupLocations = [4, 12];\r\n        var popupOption = { insideWindow: true }\r\n        var enableDropdownArrow = false;\r\n\r\n        var delayHideTime = 500;    // this is not apply for root\r\n        var delayHideClass = 'OUT';\r\n        var rootDelayHideTime = 0;\r\n\r\n\r\n        var activeClass = 'ACTIVE'; // can't change due to \r\n        var firstActiveClass = 'FIRST'; \r\n        //private\r\n        var isVisible = false; \r\n        var isFadingOut = false;\r\n\r\n        Object.defineProperties(this, {\r\n            isVisible: {\r\n                get: function() { return isVisible },\r\n            },\r\n            isFadingOut: {\r\n                get: function() { return isFadingOut },\r\n            },\r\n\r\n            showOnHover: {\r\n                get: function() { return showOnHover },\r\n                set: function(newValue) { showOnHover = newValue }\r\n            },\r\n            rootLocations: {\r\n                get: function() { return rootLocations },\r\n                set: function(newValue) { rootLocations = newValue },\r\n            },\r\n            rootOption: {\r\n                get: function() { return rootOption },\r\n                set: function(newValue) { rootOption = newValue },\r\n            },\r\n\r\n            popupLocations: {\r\n                get: function() { return popupLocations },\r\n                set: function(newValue) { popupLocations = newValue },\r\n            },\r\n            popupOption: {\r\n                get: function() { return popupOption },\r\n                set: function(newValue) { popupOption = newValue },\r\n            },\r\n\r\n            delayHideTime: {\r\n                get: function() { return delayHideTime },\r\n                set: function(newValue) { delayHideTime = newValue }\r\n            },\r\n            delayHideClass: {\r\n                get: function() { return delayHideClass },\r\n                set: function(newValue) { delayHideClass = newValue }\r\n            },\r\n            rootDelayHideTime: {\r\n                get: function() { return rootDelayHideTime },\r\n                set: function(newValue) { rootDelayHideTime = newValue }\r\n            },\r\n            firstActiveClass: {\r\n                get: function() { return firstActiveClass },\r\n                set: function(newValue) { firstActiveClass = newValue }\r\n            },\r\n            enableDropdownArrow: {\r\n                get: function() { return enableDropdownArrow },\r\n                set: function(newValue) {\r\n                    if (typeof newValue == \"boolean\") enableDropdownArrow = newValue\r\n                    else console.warn(\"Cannot implicitly convert value to 'bool'\");\r\n                }\r\n            },\r\n        });\r\n\r\n\r\n        //methods\r\n        this.setItems = function(items) {\r\n            $menu.find('>.X-Menu-Items').remove();\r\n            $menu.append(Menu.createMenuItemsElement(items));\r\n        }\r\n        this.show = function(arg1, arg2, arg3) {\r\n            //show(element?: HTMLElement): void\r\n            //show(offset: JQuery.CoordinatesPartial): void\r\n\r\n            if (arg1 == undefined || arg1 instanceof HTMLElement == true) return showAtElement.apply(this, arguments);\r\n            else return showAtPoint.apply(this, arguments);\r\n        }\r\n        this.hide = function() {\r\n            // Case \r\n            // 1. Invisible\r\n            // 2. Visible, Fadeout\r\n            // 3. Visible, Fadein (We don't have this state, because CSS will do it by set class name as FIRST)\r\n            // 4. Visible completely\r\n            //      maybe children maybe fadeout\r\n\r\n            if (isVisible == false) {\r\n                // 1. Invisible \r\n            } else if (isVisible == true && isFadingOut == true) {\r\n                // 2. Visible, Fadeout\r\n            } else {\r\n                // 4. Visible completely\r\n\r\n                if (rootDelayHideTime == 0) this.hideDropDownImmediately();\r\n                else {\r\n                    isFadingOut = true;\r\n\r\n                    // add \"OUT\", remove \"ACTIVE\"\r\n                    $menu.addClass(delayHideClass).removeClass(activeClass); \r\n\r\n                    // find all active\r\n                    $menu.find('.X-Menu-Item.ACTIVE>.X-Menu-Items').removeClass('ACTIVE').each(function() {\r\n                        controls.startHide(this, rootDelayHideTime, delayHideClass);\r\n                    });\r\n\r\n                    var rootElement = $menu.find('>.X-Menu-Items').removeClass('ACTIVE')[0];\r\n                    controls.startHide(rootElement, rootDelayHideTime, delayHideClass, function() {\r\n                        isVisible = false;\r\n                        isFadingOut = false;\r\n\r\n\r\n                        $menu.removeClass([firstActiveClass, delayHideClass].join(' ')).find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n                        menu.ondropdownclose();\r\n                    });\r\n                };\r\n            }\r\n\r\n        }\r\n        this.hideDropDownImmediately = function() {\r\n            // if menu is ACTIVE, remove class and raise event\r\n            isVisible = false;\r\n            isFadingOut = false;\r\n\r\n            // Stop Fadeout and hide element with class .X-Menu-Items.OUT\r\n            $menu.find('.X-Menu-Items').each(function() {\r\n                controls.stopHide(this)\r\n            }).removeClass('ACTIVE').hide();\r\n\r\n            $menu.removeClass([activeClass, firstActiveClass, delayHideClass].join(' ')).find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n            this.ondropdownclose();\r\n        }\r\n\r\n        //methods overloads\r\n        function showAtElement(target) {\r\n            // Case \r\n            // 1. Invisible\r\n            // 2. Visible, Fadeout\r\n            // 3. Visible, Fadein (We don't have this state, because CSS will do it by set class name as FIRST)\r\n            // 4. Visible completely\r\n\r\n\r\n            if (isVisible == false) {\r\n                // 1. Invisible\r\n                isVisible = true;\r\n\r\n                var result = intell.showAt(target || element, $menu.find('>.X-Menu-Items')[0], rootLocations, rootOption);\r\n                $menu.addClass(activeClass); // element only\r\n                $menu.find('>.X-Menu-Items').addClass('ACTIVE');\r\n\r\n                this.ondropdownopen({ result: result });\r\n            }\r\n            else if (isVisible == true && isFadingOut == true) {\r\n                //2. Visible, Fadeout\r\n                stopFadingOut();\r\n            }\r\n        }\r\n        function showAtPoint(offset) {\r\n            if (isVisible == false) {\r\n                // 1. Invisible\r\n                isVisible = true;\r\n                var result = intell.showAt(offset, $menu.find('>.X-Menu-Items')[0], rootLocations, rootOption);\r\n                $menu.find('>.X-Menu-Items').addClass('ACTIVE');\r\n               \r\n                this.ondropdownopen({ result: result});\r\n            }\r\n            else if (isVisible == true && isFadingOut == true) {\r\n                //2. Visible, Fadeout\r\n                stopFadingOut();\r\n            }\r\n        }\r\n\r\n        function stopFadingOut() {\r\n            //2. Visible, Fadeout\r\n            isFadingOut = false;\r\n\r\n            // add \"ACTIVE\", remove \"OUT\"\r\n            $menu.addClass(activeClass).removeClass(delayHideClass);\r\n\r\n            // stop FadeOut processing: only stop \">.X-Menu-Items\" and \".X-Menu-Item.ACTIVE>.X-Menu-Items\"\r\n            $menu.find('>.X-Menu-Items').add($menu.find('.X-Menu-Item.ACTIVE>.X-Menu-Items')).each(function() {\r\n                controls.stopHide(this);\r\n            }).addClass('ACTIVE');\r\n        }\r\n\r\n\r\n        //events\r\n        var ondropdownopen = this.ondropdownopen = $$.createEventFunction();\r\n        var ondropdownclose = this.ondropdownclose = $$.createEventFunction();\r\n        var onmenuitemclick = this.onmenuitemclick = $$.createEventFunction();\r\n\r\n        $menu.mousedown(function(e) {\r\n            // In this block, we need to showDropDown or HideDropDown\r\n            // 1. only allow left button to do the action\r\n            // 2. find the closest element X-Menu-Item or X-Menu, \r\n            //    if the element is X-Menu-Item, nothing\r\n            //    if the element is X-Item, do\r\n\r\n            // --1--\r\n            var event = e.originalEvent;\r\n            if (event.buttons != 1) return;\r\n            \r\n            // --2--\r\n            var $closest = $(event.target).closest('.X-Menu-Item,.X-Menu');\r\n\r\n            if ($closest.is('.X-Menu-Item') == true) { }\r\n            else if ($closest.is('.X-Menu') == true) {\r\n                if (isVisible == true && isFadingOut == false && showOnHover == false) menu.hide();\r\n                else {\r\n                    $menu.addClass(firstActiveClass);\r\n                    menu.show();\r\n                }\r\n                //prevent default, so user can hold down and up to select\r\n                event.preventDefault();\r\n            }\r\n        });\r\n        $menu.mouseup(function(e) {\r\n            // In this block: when left click on X-Menu-Item raise onmenuitemclick if it doesn't have any child\r\n            // \r\n            // 1. only allow left button\r\n            // 2. Find the closest X-Menu-Item, raise event if it doesn't have any child.\r\n\r\n            // -- 1 --\r\n            var originalEvent = e.originalEvent;\r\n            if (originalEvent.button != 0) return;\r\n\r\n            // -- 2 --\r\n            var $menu_item = $(originalEvent.target).closest('.X-Menu-Item');\r\n            if ($menu_item.length > 0 && $menu_item.find('>.X-Menu-Items>.X-Menu-Item').length == 0) {\r\n                var event = intell.Event();\r\n                event.target = $menu_item[0];\r\n                \r\n                onmenuitemclick(event);\r\n\r\n                if (event.defaultPrevented == false) menu.hideDropDownImmediately()\r\n            }\r\n\r\n        });\r\n        $menu.mouseenter(function() {\r\n            // check is there a opened menu before us?\r\n            var hasPreviousMenu = false;\r\n\r\n            //1. find another active menu (not this) & hide it.\r\n\r\n            var $othersMenus = $menu.parent().find('>.X-Menu').not(element);\r\n            $othersMenus.each(function() {\r\n                var activedMenu = this.__Menu__;\r\n                if (activedMenu == undefined) return;\r\n\r\n                if (activedMenu.isVisible == true) {\r\n                    activedMenu.hideDropDownImmediately();\r\n                    hasPreviousMenu = true;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n\r\n            if (showOnHover == false) {\r\n                if (hasPreviousMenu == true) menu.show();\r\n            } else {\r\n                if (hasPreviousMenu == false) $menu.addClass(firstActiveClass);\r\n                menu.show();\r\n            }\r\n        })\r\n        $menu.mouseleave(function() { if (showOnHover == true) menu.hide() });\r\n        $menu.mousedownoutside(function() { if (isVisible == true) menu.hide() });\r\n        $menu.on('mouseenter', '.X-Menu-Item', function() {\r\n            // find previous .X-Menu-Item.ACTIVE and hide previous\r\n            // Case\r\n            // 1. Previous .X-Menu-Item do not have children items\r\n            // 2. Previous .X-Menu-Item have children items\r\n\r\n            var $current = $(this);\r\n\r\n            var $previous = $(this).parent().find('>.X-Menu-Item.ACTIVE');\r\n            if ($previous.is(this) == false) {\r\n                //when enter another menu-item;\r\n                $previous.removeClass('ACTIVE').find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n                $previous.find('>.X-Menu-Items').removeClass('ACTIVE');\r\n\r\n                //stop hide timer and hide previous .X-Menu-Items immediately\r\n                var $needHide = $previous.find('.X-Menu-Items:visible');\r\n                for (var i = 0; i < $needHide.length; i++) controls.stopHide($needHide[i]);\r\n                $needHide.hide();\r\n\r\n                var $items = $current.find('>.X-Menu-Items');\r\n                $items.addClass('ACTIVE'); // XYZ\r\n\r\n                if ($items.length > 0) {\r\n                    controls.stopHide($items[0]);\r\n                    intell.showAt(this, $items[0], popupLocations, popupOption);\r\n                }\r\n                $current.addClass('ACTIVE');\r\n            }\r\n        });\r\n        $menu.on('mouseleave', '.X-Menu-Items', function(e) {\r\n            // In this block, \r\n            // When mouse leave '.X-Menu-Items', we will find \">.X-Menu-Item.ACTIVE\" and hide its \".X-Menu-Items\" (This mean we don't hide itself but its child).\r\n            // There is a problem, when mouse leave '.X-Menu-Items', it may leave everything (X-Menu) so this block will be called many time.\r\n            //\r\n            // 1. Prevent call many time, because we don't want to hide every thing\r\n            // 2. Find .X-Menu-Item.ACTIVE and hide it .X-Menu-Items if exist\r\n\r\n            // --1--\r\n            var $closest = $(e.originalEvent.target).closest('.X-Menu-Items');\r\n            if ($closest[0] != this) return; // this keyword change every call\r\n\r\n            // --2--\r\n            var $active = $(this).find('.X-Menu-Item.ACTIVE');\r\n            var $active_items = $active.find('>.X-Menu-Items').removeClass('ACTIVE'); \r\n\r\n            $active_items.each(function() {\r\n                controls.startHide(this, delayHideTime, delayHideClass);\r\n            });\r\n            $active.removeClass('ACTIVE');\r\n        });\r\n        \r\n        this.ondropdownopen(function(e) {\r\n            if (enableDropdownArrow == false) return;\r\n            var $arrow1 = $menu.find('>.Label>.Arrow');\r\n            var $arrow2 = $menu.find('>.X-Menu-Items>.Arrow');\r\n\r\n            if ($arrow1.length == 0) return;\r\n            if ($arrow2.length == 0) return;\r\n\r\n            var offset = $arrow1.offset();\r\n            offset.left += $arrow1.outerWidth() / 2;\r\n            offset.top += $arrow1.outerHeight() / 2;\r\n\r\n            Menu.SetArrowDirection($arrow2, e.result.location, offset);\r\n        });\r\n        \r\n\r\n        if (option != undefined) {\r\n            if (option.showOnHover != undefined) menu.showOnHover = option.showOnHover;\r\n            if (option.rootLocations != undefined) menu.rootLocations = option.rootLocations;\r\n            if (option.rootOption != undefined) menu.rootOption = option.rootOption;\r\n            if (option.popupLocations != undefined) menu.popupLocations = option.popupLocations;\r\n            if (option.popupOption != undefined) menu.popupOption = option.popupOption;\r\n            if (option.delayHideTime != undefined) menu.delayHideTime = option.delayHideTime;\r\n            if (option.delayHideClass != undefined) menu.delayHideClass = option.delayHideClass;\r\n\r\n            if (option.rootDelayHideTime != undefined) menu.rootDelayHideTime = option.rootDelayHideTime;\r\n            if (option.firstActiveClass != undefined) menu.firstActiveClass = option.firstActiveClass;\r\n            if (option.enableDropdownArrow != undefined) menu.enableDropdownArrow = option.enableDropdownArrow;\r\n        }\r\n    }\r\n    Menu.createMenuItemsElement = function(items) {\r\n\r\n        if (items == undefined || items.length == 0) return;\r\n\r\n        var elements = [];\r\n\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n\r\n            var $X_Menu_Item;\r\n\r\n            if (item == '-') $X_Menu_Item = $('<div class=\"X-Separator\"></div>');\r\n            else {\r\n                $X_Menu_Item = $('<div class=\"X-Menu-Item\"><div class=\"Label\"><div class=\"Icon\"></div><div class=\"Name\"></div></div></div>');\r\n                var $label = $X_Menu_Item.find('>.Label');\r\n                var $icon = $X_Menu_Item.find('>.Label>.Icon');\r\n                var $name = $X_Menu_Item.find('>.Label>.Name');\r\n\r\n                if (item.icon != undefined) { $icon.html(item.icon) }\r\n                if (item.name != undefined) { $name.html(item.name) }\r\n                if (item.shortcut != undefined) $label.append('<div class=\"Shortcut\">' + item.shortcut + '</div>');\r\n\r\n                if (item.items != undefined) {\r\n                    var children = intell.controls.Menu.createMenuItemsElement(item.items);\r\n                    if (children != undefined) {\r\n\r\n                        $X_Menu_Item.append(children);\r\n\r\n                        $X_Menu_Item.find('>.Label').append('<div class=\"Arrow\"></div>');\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n            elements.push($X_Menu_Item);\r\n\r\n        }\r\n\r\n        if (elements.length == 0) return;\r\n        else return $('<div class=\"X-Menu-Items\"></div>').append(elements)[0];\r\n\r\n    }\r\n    Menu.SetArrowDirection = function(arrow, location, offset) {\r\n        var $arrow = $(arrow);\r\n\r\n        if (offset instanceof HTMLElement == true) {\r\n            var $target = $(offset);\r\n            offset = $target.offset();\r\n            offset.left += $target.outerWidth() / 2;\r\n            offset.top += $target.outerHeight() / 2;\r\n        }\r\n\r\n        $arrow.removeClass('LEFT UP RIGHT DOWN').css({ left: '', top: '' });\r\n\r\n        if (location <= 3) $arrow.offset({ left: Math.round(offset.left - $arrow.outerWidth() / 2) }).addClass('DOWN');\r\n        else if (location <= 6) $arrow.offset({ top: Math.round(offset.top - $arrow.outerHeight() / 2) }).addClass('LEFT');\r\n        else if (location <= 9) $arrow.offset({ left: Math.round(offset.left - $arrow.outerWidth() / 2) }).addClass('UP');\r\n        else $arrow.offset({ top: Math.round(offset.top - $arrow.outerWidth() / 2) }).addClass('RIGHT');\r\n    }\r\n    intell.controls.Menu = Menu\r\n\r\n\r\n    intell.controls.ContextMenu = function ContextMenu(element, option) {\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__ContextMenu__ != undefined) return element.__ContextMenu__;\r\n        if (this instanceof ContextMenu == false) return new ContextMenu(element, option);\r\n\r\n        //////////////////////////////////////////////\r\n        var contextMenu = element.__ContextMenu__ = this;\r\n        var $contextMenu = $(element);\r\n\r\n        var popupLocations = [4, 12];\r\n        var popupOption = { insideWindow: true }\r\n\r\n        var delayHideTime = 500;\r\n        var delayHideClass = 'OUT';\r\n        var rootDelayHideTime = 0;\r\n\r\n\r\n        var activeClass = 'ACTIVE'; // can't change due to \r\n        var firstActiveClass = 'FIRST'; \r\n        //private\r\n        var isVisible = false;\r\n        var isFadingOut = false;\r\n\r\n        Object.defineProperties(this, {\r\n            isVisible: {\r\n                get: function() { return isVisible },\r\n            },\r\n            isFadingOut: {\r\n                get: function() { return isFadingOut },\r\n            },\r\n\r\n        });\r\n\r\n        var isVisible = false;\r\n        this.show = function(argument1, argument2) {\r\n            //show(element: HTMLElement): void;\r\n            //show(position: JQuery.CoordinatesPartial): void;\r\n\r\n            var fn;\r\n\r\n            if (argument1.left != undefined && argument1.top != undefined) { show_offset.apply(this, arguments); }\r\n            else if (argument1 instanceof HTMLElement) show_target.apply(this, arguments);\r\n            else throw \"Unknow overload\";\r\n        }\r\n\r\n        function show_offset(offset) {\r\n            // Case \r\n            // 1. Invisible\r\n            // 2. Visible, Fadeout\r\n            // 3. Visible, Fadein (We don't have this state, because CSS will do it by set class name as FIRST)\r\n            // 4. Visible completely\r\n\r\n            if (isVisible == false) {\r\n                // 1. Invisible\r\n\r\n                //1. prevent flicker - set left and hidden\r\n                $contextMenu.css({ left: '-900px', visibility: 'hidden' })\r\n                    .show()\r\n                    .offset(offset)\r\n                    .css({ visibility: '' });\r\n\r\n                isVisible = true;\r\n                $contextMenu.addClass(activeClass);\r\n                $contextMenu.find('>.X-Menu-Items').addClass(activeClass); // XYZ\r\n                \r\n                //this.ondropdownopen({ result: result });\r\n\r\n            } else if (isVisible == true && isFadingOut == true) {\r\n                //2. Visible, Fadeout\r\n                isFadingOut = false;\r\n\r\n                // add \"ACTIVE\", remove \"OUT\"\r\n                $menu.addClass(activeClass).removeClass(delayHideClass);\r\n\r\n                // stop FadeOut processing: only stop \">.X-Menu-Items\" and \".X-Menu-Item.ACTIVE>.X-Menu-Items\"\r\n                $menu.find('>.X-Menu-Items').add($menu.find('.X-Menu-Item.ACTIVE>.X-Menu-Items')).each(function() {\r\n                    controls.stopHide(this);\r\n                }).addClass('ACTIVE');\r\n\r\n            }\r\n            //else {\r\n            //    // 4. Visible completely\r\n            //}\r\n\r\n        }\r\n        function show_target(target, rootLocations, rootOption) {\r\n            // Case \r\n            // 1. Invisible\r\n            // 2. Visible, Fadeout\r\n            // 3. Visible, Fadein (We don't have this state, because CSS will do it by set class name as FIRST)\r\n            // 4. Visible completely\r\n\r\n            //aa.apply arguments\r\n\r\n            if (isVisible == false) {\r\n                // 1. Invisible\r\n                var result = intell.showAt(target, element, rootLocations, rootOption);\r\n\r\n                isVisible = true;\r\n                $menu.addClass(activeClass);\r\n                $menu.find('>.X-Menu-Items').addClass('ACTIVE'); // XYZ\r\n\r\n\r\n\r\n                this.ondropdownopen({ result: result });\r\n\r\n            }\r\n            else if (isVisible == true && isFadingOut == true) {\r\n                //2. Visible, Fadeout\r\n                isFadingOut = false;\r\n\r\n                // add \"ACTIVE\", remove \"OUT\"\r\n                $menu.addClass(activeClass).removeClass(delayHideClass);\r\n\r\n                // stop FadeOut processing: only stop \">.X-Menu-Items\" and \".X-Menu-Item.ACTIVE>.X-Menu-Items\"\r\n                $menu.find('>.X-Menu-Items').add($menu.find('.X-Menu-Item.ACTIVE>.X-Menu-Items')).each(function() {\r\n                    controls.stopHide(this);\r\n                }).addClass('ACTIVE');\r\n\r\n            }\r\n            //else {\r\n            //    // 4. Visible completely\r\n            //}\r\n        }\r\n\r\n        this.hide = function() {\r\n            // Case \r\n            // 1. Invisible\r\n            // 2. Visible, Fadeout\r\n            // 3. Visible, Fadein (We don't have this state, because CSS will do it by set class name as FIRST)\r\n            // 4. Visible completely\r\n            //      maybe children maybe fadeout\r\n\r\n            if (isVisible == false) {\r\n                // 1. Invisible \r\n            } else if (isVisible == true && isFadingOut == true) {\r\n                // 2. Visible, Fadeout\r\n            } else {\r\n                // 4. Visible completely\r\n\r\n                if (rootDelayHideTime == 0) this.hideImmediately();\r\n                else {\r\n                    isFadingOut = true;\r\n\r\n                    // add \"OUT\", remove \"ACTIVE\"\r\n                    $menu.addClass(delayHideClass).removeClass(activeClass);\r\n\r\n                    // find all active\r\n                    $menu.find('.X-Menu-Item.ACTIVE>.X-Menu-Items').removeClass('ACTIVE').each(function() {\r\n                        controls.startHide(this, rootDelayHideTime, delayHideClass);\r\n                    });\r\n\r\n                    var rootElement = $menu.find('>.X-Menu-Items').removeClass('ACTIVE')[0];\r\n                    controls.startHide(rootElement, rootDelayHideTime, delayHideClass, function() {\r\n                        isVisible = false;\r\n                        isFadingOut = false;\r\n\r\n\r\n                        $menu.removeClass([firstActiveClass, delayHideClass].join(' ')).find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n                        menu.ondropdownclose();\r\n                    });\r\n                };\r\n            }\r\n\r\n        }\r\n        this.hideImmediately = function() {\r\n            // if menu is ACTIVE, remove class and raise event\r\n            isVisible = false;\r\n            isFadingOut = false;\r\n\r\n            // Stop Fadeout and hide element with class .X-Menu-Items.OUT\r\n            $contextMenu.find('.X-Menu-Items').add($contextMenu).each(function() {\r\n                controls.stopHide(this)\r\n            }).removeClass('ACTIVE').hide();\r\n\r\n            $contextMenu.removeClass([activeClass, delayHideClass].join(' ')).find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n            //this.ondropdownclose();\r\n        }\r\n\r\n        $contextMenu.on('mouseenter', '.X-Menu-Item', function() {\r\n            // find previous .X-Menu-Item.ACTIVE and hide previous\r\n            // Case\r\n            // 1. Previous .X-Menu-Item do not have children items\r\n            // 2. Previous .X-Menu-Item have children items\r\n\r\n            var $previous = $(this).parent().find('>.X-Menu-Item.ACTIVE');\r\n            if ($previous.is(this) == false) {\r\n                //when enter another menu-item;\r\n                $previous.removeClass('ACTIVE').find('.X-Menu-Item.ACTIVE').removeClass('ACTIVE');\r\n                $previous.find('>.X-Menu-Items').removeClass('ACTIVE');\r\n\r\n                //stop hide timer and hide previous .X-Menu-Items immediately\r\n                var $needHide = $previous.find('.X-Menu-Items:visible');\r\n                for (var i = 0; i < $needHide.length; i++) controls.stopHide($needHide[i]);\r\n                $needHide.hide();\r\n\r\n                var $items = $(this).find('>.X-Menu-Items');\r\n                $items.addClass('ACTIVE'); // XYZ\r\n\r\n                if ($items.length > 0) {\r\n                    controls.stopHide($items[0]);\r\n                    intell.showAt(this, $items[0], popupLocations, popupOption);\r\n                }\r\n                $(this).addClass('ACTIVE');\r\n            }\r\n        });\r\n        $contextMenu.on('mouseleave', '.X-Menu-Items', function(e) {\r\n            // In this block, \r\n            // When mouse leave '.X-Menu-Items', we will find \">.X-Menu-Item.ACTIVE\" and hide its \".X-Menu-Items\" (This mean we don't hide itself but its child).\r\n            // There is a problem, when mouse leave '.X-Menu-Items', it may leave everything (X-Menu) so this block will be called many time.\r\n            //\r\n            // 1. Prevent call many time, because we don't want to hide every thing\r\n            // 2. Find .X-Menu-Item.ACTIVE and hide it .X-Menu-Items if exist\r\n\r\n            // --1--\r\n            var $closest = $(e.originalEvent.target).closest('.X-Menu-Items');\r\n            if ($closest[0] != this) return; // this keyword change every call\r\n\r\n            // --2--\r\n            var $active = $(this).find('.X-Menu-Item.ACTIVE');\r\n            var $active_items = $active.find('>.X-Menu-Items').removeClass('ACTIVE');\r\n\r\n            $active_items.each(function() {\r\n                controls.startHide(this, delayHideTime, delayHideClass);\r\n            });\r\n            $active.removeClass('ACTIVE');\r\n        });\r\n        $contextMenu.mousedownoutside(function() {\r\n            if (isVisible == true) contextMenu.hide();\r\n            //if ($menu.is('.' + activeClass)) menu.hideDropDown()\r\n        });\r\n    }\r\n    intell.controls.NumericUpDown = function NumericUpDown(element, option) {\r\n        ///<param name='element' type='Element'/> \r\n        ///<glyph>vs:GlyphDialogId</glyph>\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__NumericUpDown__ != undefined) return element.__NumericUpDown__;\r\n        if (this instanceof NumericUpDown == false) return new NumericUpDown(element, option);\r\n        ////////////////////\r\n        var control = element.__NumericUpDown__ = this;\r\n        var _$element = $(element);\r\n        var _$input = _$element.find('input');\r\n        var _input = _$input[0];\r\n        var _$up = _$element.find('.X-Up');\r\n        var _$down = _$element.find('.X-Down');\r\n\r\n        control.element = element;\r\n\r\n        // NumericUpDown can work even without div\r\n        if (element instanceof HTMLInputElement) {\r\n            _$input = _$element;\r\n            _input = element;\r\n        }\r\n\r\n        //properties\r\n        var value = parseFloat(_$input[0].value.replace(/[, ]/g, '')); if (isNaN(value)) value = 0;\r\n        var session_value = value;\r\n        var increment = 1;\r\n        var unit = '';\r\n        var min = undefined;\r\n        var max = undefined;\r\n        var decimalPlaces = 0;\r\n        var separate = undefined;\r\n\r\n        //define property\r\n        Object.defineProperties(this, {\r\n            'value': {\r\n                get: function () { return value },\r\n                set: function(newValue, e) {\r\n                    if (typeof newValue == 'string') newValue = parseFloat(newValue);\r\n                    \r\n\r\n                    if (value != newValue && typeof newValue == 'number') {\r\n                        value = newValue;\r\n                        if (value < min) value = min;\r\n                        if (value > max) value = max;\r\n\r\n                        updateString(value);\r\n                    }\r\n                    \r\n                }\r\n            },\r\n            'increment': {\r\n                get: function () { return increment },\r\n                set: function(value) {\r\n                    if (typeof value == 'number') increment = value;\r\n                    else if (typeof value == 'string') {\r\n                        value = parseInt(value);\r\n                        if (isNaN(value) == false) increment = value;\r\n                        else throw \"increment can't be NaN\";\r\n                    }\r\n                    else throw \"increment is invalid\";\r\n                }\r\n            },\r\n            'unit': {\r\n                get: function () { return unit },\r\n                set: function (newValue) {\r\n                    if (newValue != unit && typeof newValue == 'string') {\r\n                        unit = newValue; updateString(value);\r\n                    }\r\n\r\n                }\r\n            },\r\n            'min': {\r\n                get: function () { return min },\r\n                set: function (newValue) {\r\n                    if (newValue == undefined) min = undefined;\r\n                    else if (min != newValue && typeof newValue == 'number') {\r\n                        min = newValue;\r\n                        if (min > max) max = min;\r\n                        if (value < min) value = min;\r\n                        updateString(value);\r\n                    }\r\n\r\n                }\r\n            },\r\n            'max': {\r\n                get: function () { return max },\r\n                set: function (newValue) {\r\n                    if (newValue == undefined) max = undefined;\r\n                    else if (max != newValue && typeof newValue == 'number') {\r\n                        max = newValue;\r\n                        if (max < min) min = max;\r\n                        if (value > max) value = max;\r\n                        updateString(value);\r\n                    }\r\n\r\n                }\r\n            },\r\n            'decimalPlaces': {\r\n                get: function() { return decimalPlaces },\r\n                set: function(newValue) {\r\n                    if (decimalPlaces != newValue) {\r\n                        decimalPlaces = newValue;\r\n                        updateString(value);\r\n                    }\r\n                }\r\n            },\r\n            'separate': {\r\n                get: function() { return separate },\r\n                set: function(newValue) {\r\n                    if (separate != newValue) {\r\n                        separate = newValue;\r\n                        updateString(value);\r\n                    }\r\n                }\r\n            },\r\n            'input': {\r\n                get: function () { return _input }\r\n            }\r\n        });\r\n        //events\r\n        this.onchange = $$.createEventFunction()\r\n\r\n        function updateString(value) {\r\n            _$input.val(value.formatNumber({ decimals: decimalPlaces, separate: separate }) + unit);\r\n        }\r\n        function session_increaseBy(number) {\r\n            session_value += number;\r\n            if (min != null && session_value < min) session_value = min;\r\n            if (max != null && session_value > max) session_value = max;\r\n\r\n            updateString(session_value);\r\n        }\r\n\r\n\r\n        _$input.keyup(function(e) {\r\n            session_value = parseFloat(_input.value.replace(/[, ]/g, ''));\r\n            if (isNaN(session_value)) session_value = 0;\r\n        });\r\n        _$input.keydown(function(e) {\r\n            if (e.originalEvent.keyCode == 27) {\r\n                session_value = value;\r\n                _$input[0].blur(); return;\r\n            }\r\n        });\r\n        _$input.on('mousewheel', function (event) {\r\n            var e = event.originalEvent;\r\n            if (document.activeElement != _$input[0]) return;\r\n            if (e.wheelDelta > 0) session_increaseBy(increment);\r\n            else session_increaseBy(-increment);\r\n            e.preventDefault(); //prevent scroll\r\n        });\r\n        _$up.click(function () { session_increaseBy(increment) });\r\n        _$down.click(function () { session_increaseBy(-increment); });\r\n        _$input.focus(function() {\r\n            _$element.addClass('ACTIVE');\r\n            session_value = parseFloat(_$input[0].value.replace(/[, ]/g, ''))\r\n        });\r\n        _$input.focusout(function() {\r\n            _$element.removeClass('ACTIVE');\r\n            if (min && session_value < min) session_value = min;\r\n            if (max && session_value > max) session_value = max;\r\n\r\n            if (session_value != value) {\r\n\r\n                var event = intell.Event();\r\n                Object.defineProperties(event, {\r\n                    oldValue: { value: value },\r\n                    newValue: { value: session_value }\r\n                });\r\n                value = session_value;\r\n                control.onchange(event);\r\n\r\n                if (event.defaultPrevented == true) value = event.oldValue;\r\n            }\r\n\r\n            updateString(value);\r\n        });\r\n\r\n        // non-important\r\n        _$input.keypress(function (event) {\r\n            var key = event.originalEvent.key;\r\n            if ('1234567890., '.indexOf(key) == -1) { return false }\r\n        })\r\n        _$up.add(_$down).mousedown(function (e) {\r\n            // When user click on up/down button, set focus to textbox.\r\n            if (document.activeElement != _$input[0]) _$input.focus();\r\n            e.originalEvent.preventDefault()\r\n        });\r\n\r\n        if (option != undefined) {\r\n            if (option.value != undefined) value = parseFloat(option.value);\r\n            \r\n            if (option.min != undefined) control.min = option.min;\r\n            if (option.max != undefined) control.max = option.max;\r\n            if (option.increment != undefined) control.increment = option.increment;\r\n            if (option.unit != undefined) control.unit = option.unit;\r\n            if (option.decimalPlaces != undefined) control.decimalPlaces = option.decimalPlaces;\r\n            if (option.separate != undefined) control.separate = option.separate;\r\n            \r\n        }\r\n        updateString(value);\r\n\r\n        \r\n    }\r\n    intell.controls.Slideshow = function Slideshow(element, option) {\r\n        ///<param name='element' type='Element'/> \r\n        ///<glyph>vs:GlyphDialogId</glyph>\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__Slideshow__ != undefined) return element.__Slideshow__;\r\n        if (this instanceof Slideshow == false) return new Slideshow(element, option);\r\n        //////////////////////////////////////////////\r\n\r\n        //if (_$element.find('.X-Slideshow-Item').length > 0) console.warn('.X-Slideshow-Items ')\r\n\r\n        //////////////////////////////////////////////\r\n        var control = element.__Slideshow__ = this;\r\n        var _$element = $(element);\r\n        var _$items = _$element.find('.X-Slideshow-Items');\r\n\r\n        //properties\r\n        var index = -1;\r\n        var interval = 5000;\r\n\r\n        var delayHideTime = 1000;           // delayHideTime\r\n        var delayHideClass = 'OUT';         // delayHideClass\r\n        var activeClass = 'ACTIVE';         // activeClass\r\n        var inClass = 'IN';                 // inClass\r\n        var nextInClass = 'NEXT-IN';        // \r\n        var prevInClass = 'PREV-IN';        // \r\n        var scrollEnabled = false;           // Gets or sets a value indicating whether the slider uses scroll bar.\r\n\r\n        //private \r\n        var delayHide_hTimer = 0; // delayHide_hTimer private: the handle timer\r\n        var previousSlider; //prevSliderElement\r\n        var currentSlider;  //currSliderElement\r\n        var interval_hTimer = 0; // the hTimer that is used by auto slideshow\r\n\r\n        //define properties\r\n        Object.defineProperties(this, {\r\n            count: {\r\n                get: function() { return _$items.find('>.X-Slideshow-Item').length },\r\n            },\r\n            index: {\r\n                get: function() { return index },\r\n                set: function(newValue) { this.setIndex(newValue) }\r\n            },\r\n            interval: {\r\n                get: function() { return interval },\r\n                set: function(newValue) { interval = newValue }\r\n            },\r\n            delayHideTime: {\r\n                get: function() { return delayHideTime },\r\n                set: function(newValue) { delayHideTime = newValue }\r\n            },\r\n            delayHideClass: {\r\n                get: function() { return delayHideClass },\r\n                set: function(newValue) { delayHideClass = newValue }\r\n            },\r\n            activeClass: {\r\n                get: function() { return activeClass },\r\n                set: function(newValue) { activeClass = newValue }\r\n            },\r\n            inClass: {\r\n                get: function() { return inClass },\r\n                set: function(newValue) { inClass = newValue }\r\n            },\r\n            nextInClass: {\r\n                get: function() { return nextInClass },\r\n                set: function(newValue) { nextInClass = newValue }\r\n            },\r\n            prevInClass: {\r\n                get: function() { return prevInClass },\r\n                set: function(newValue) { prevInClass = newValue }\r\n            },\r\n            scrollEnabled: {\r\n                get: function () { return scrollEnabled },\r\n                set: function (newValue) {\r\n\r\n                    // only refreshScroll when value change is changed\r\n                    if (newValue != scrollEnabled) {\r\n                        scrollEnabled = newValue\r\n                        this.refreshScroll();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        //methods\r\n        this.next = function() { return this.setIndex(index + 1 >= control.count ? 0 : index + 1, 'next'); }\r\n        this.prev = function() { return this.setIndex(index - 1 < 0 ? control.count - 1 : index - 1, 'prev'); }\r\n        this.setIndex = function(newIndex, action) {\r\n            if (newIndex == index) return;\r\n\r\n            if (delayHide_hTimer != 0) {\r\n                //previous timer is running, stop and hide it immediately\r\n                var $previous = $(previousSlider).hide();\r\n                $previous.removeClass([activeClass, prevInClass, nextInClass, inClass, delayHideClass].join(' '));\r\n                clearTimeout(delayHide_hTimer); delayHide_hTimer = 0;\r\n            }\r\n\r\n            // when code reach here:\r\n            // previous need to hide\r\n            // current need to show\r\n            previousSlider = currentSlider;\r\n            index = newIndex;\r\n            currentSlider = _$items.find('>.X-Slideshow-Item')[index];\r\n\r\n            if (previousSlider != undefined) {\r\n                var $previous = $(previousSlider);\r\n                $previous.removeClass(inClass).addClass(delayHideClass).removeClass(activeClass);\r\n\r\n                delayHide_hTimer = setTimeout(function() {\r\n                    var $previous = $(previousSlider);\r\n                    $previous.hide().removeClass([activeClass, prevInClass, nextInClass, inClass, delayHideClass].join(' '));\r\n                    delayHide_hTimer = 0;\r\n                }, delayHideTime);\r\n            }\r\n            if (currentSlider != undefined) {\r\n                var actionClass = '';\r\n                if (action == 'next') actionClass = nextInClass;\r\n                else if (action == 'prev') actionClass = prevInClass;\r\n                else if (newIndex > index) actionClass = nextInClass;\r\n                else actionClass = prevInClass;\r\n\r\n\r\n                var $current = $(currentSlider).show();\r\n                currentSlider.offsetHeight;\r\n                $current.addClass([activeClass, inClass, actionClass].join(' '));\r\n\r\n                \r\n                $(_$element.find('>.X-Scrolls>.X-Scroll').removeClass('ACTIVE')[index]).addClass('ACTIVE');\r\n\r\n                control.onchange({ target: currentSlider });\r\n            }\r\n\r\n            return currentSlider;\r\n        }\r\n        this.start = function() {\r\n            if (interval_hTimer != 0) return;\r\n            start();\r\n        }\r\n        this.stop = function() {\r\n            if (interval_hTimer != 0) {\r\n                var $current = $(_$element.find('.X-Scroll')[index]).removeClass('RUNNING');\r\n                clearTimeout(interval_hTimer); interval_hTimer = 0;\r\n            }\r\n        }\r\n\r\n        this.refreshScroll = function () {\r\n            if (scrollEnabled == true) {\r\n                var $scrolls = _$element.find('>.X-Scrolls').show();\r\n                if ($scrolls.length == 0) {\r\n                    $scrolls = $('<div class=\"X-Scrolls\"></div>');\r\n                    _$element.append($scrolls);\r\n                }\r\n\r\n                var $scroll = $scrolls.find('>.X-Scroll');\r\n                if ($scroll.length != this.count) {\r\n                    if ($scroll.length > this.count)\r\n                        for (var i = this.count; i < $scroll.length; i++) $scroll[i].remove()\r\n                    else {\r\n                        for (var i = $scroll.length; i < this.count; i++) $scrolls.append('<div class=\"X-Scroll\"></div>');\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            } else {\r\n                _$element.find('>.X-Scrolls').hide();\r\n            }\r\n        }\r\n        function start() {\r\n            if (scrollEnabled == true) {\r\n                var $current = $(_$element.find('.X-Scroll')[index]).addClass('ACTIVE');\r\n                $current[0].offsetHeight;\r\n                $current.addClass('RUNNING');\r\n                $current.css('transition-duration', interval + 'ms');\r\n            }\r\n            \r\n\r\n            interval_hTimer = setTimeout(function () {\r\n                if (scrollEnabled == true && $current != undefined) {\r\n                    $current.removeClass('RUNNING');\r\n                    $current.css('transition-duration', '');\r\n                }\r\n                control.next(true);\r\n                start();\r\n            }, interval);\r\n        }\r\n\r\n        //events\r\n        this.onchange = $$.createEventFunction();\r\n\r\n        _$element.on('click', '.X-Prev', function() { control.stop(); control.prev(true) });\r\n        _$element.on('click', '.X-Next', function() { control.stop(); control.next(true) });\r\n        _$element.on('click', '.X-Scroll', function() { control.stop(); control.index = $(this).index(); });\r\n\r\n        if (_$element.find('.X-Scrolls').length > 0) {\r\n            scrollEnabled = true;\r\n\r\n            // need to add a number of <div class=\"X-Scroll\"></div> \r\n            this.refreshScroll();\r\n        }\r\n\r\n        if (option != undefined) {\r\n            if (option.index != undefined) control.index = option.index;\r\n            if (option.interval != undefined) control.interval = option.interval;\r\n            if (option.delayHideTime != undefined) control.delayHideTime = option.delayHideTime;\r\n            if (option.delayHideClass != undefined) control.delayHideClass = option.delayHideClass;\r\n            if (option.activeClass != undefined) control.activeClass = option.activeClass;\r\n            if (option.inClass != undefined) control.inClass = option.inClass;\r\n            if (option.nextInClass != undefined) control.nextInClass = option.nextInClass;\r\n            if (option.prevInClass != undefined) control.prevInClass = option.prevInClass;\r\n            //if (option.scrollEnabled != undefined) control.scrollEnabled = option.scrollEnabled;\r\n        }\r\n        \r\n        if (this.index == -1) this.next();\r\n    }\r\n    intell.controls.TagsInput = function TagsInput(element, option) {\r\n        ///<param name='element' type='Element'/> \r\n        ///<glyph>vs:GlyphDialogId</glyph>\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__TagsInput__ != undefined) return element.__TagsInput__;\r\n        if (this instanceof TagsInput == false) return new TagsInput(element, option);\r\n        //////////////////////////////////////////////\r\n        var control = element.__TagsInput__ = this;\r\n        var _$element = $(element);\r\n        var _$input = _$element.find('input'), _input = _$input[0];\r\n        var _$tag_BASE = $('<div class=\"tag\"><div class=\"tag-value\"></div><span class=\"X-Remove\"></span></div>');\r\n\r\n        ///properties\r\n        var confirmKeys = [9, 13]; // tab, enter\r\n\r\n        ///events\r\n        this.onchange = $$.createEventFunction();\r\n\r\n        ///module\r\n        this.getTagElementByValue = function (value) {\r\n            var _$tags = _$element.find('>.tag')\r\n\r\n            for (var i = 0; i < _$tags.length; i++) {\r\n                if (_$tags.eq(i).find('.tag-value')[0].innerText.localeCompare(value, 'en', { sensitivity: 'accent' }) == 0) return _$tags[i]\r\n            }\r\n        }\r\n        this.insertBeforeInput = function (text) {\r\n            if (text == '') return false;\r\n\r\n            var _tag = this.getTagElementByValue(text);\r\n            if (_tag != undefined) {\r\n                $(_tag).find('.tag-value').text(text);\r\n                _tag.style.animation = 'none';\r\n                setTimeout(function () { _tag.style.animation = '' }, 16);\r\n                return false;\r\n            }\r\n\r\n            var _clone_tag = _$tag_BASE.clone();\r\n            _clone_tag.find('.tag-value').text(text);\r\n            _clone_tag.insertBefore(_input);\r\n\r\n            return true;\r\n        }\r\n\r\n        //define property\r\n        Object.defineProperties(control, {\r\n\r\n            'value': {\r\n                get: function () {\r\n                    var values = [];\r\n                    _$element.find('.tag .tag-value').each(function (index, item) {\r\n                        values.push(item.innerText);\r\n                    });\r\n\r\n                    return values;\r\n                },\r\n                set: function (newValue) {\r\n                    if (Array.isArray(newValue) == false) throw 'Parameter is not an array.';\r\n\r\n                    _$element.find('.tag').remove();\r\n                    for (var i = 0; i < newValue.length; i++) this.insertBeforeInput(newValue[i]);\r\n                }\r\n            },\r\n            'confirmKeys': {\r\n                get: function () { return confirmKeys; },\r\n                set: function (newValue) {\r\n                    if (Array.isArray(newValue) == false) throw 'Parameter is not an array.';\r\n                    confirmKeys = newValue;\r\n                }\r\n            },\r\n\r\n\r\n            'input': { get: function () { return _input } }\r\n        });\r\n\r\n\r\n        _$element.on('click', '.X-Remove', function () {\r\n            $(this).parent('.tag').remove();\r\n            control.onchange();\r\n        });\r\n        _$element.click(function (e) {\r\n            if ($(e.originalEvent.target).is(_$element)) _input.focus()\r\n        });\r\n        _$input.keypress(function (e) {\r\n            this.setAttribute('size', this.value.length + 2);\r\n        });\r\n        _$input.keydown(function (e) {\r\n            var event = e.originalEvent;\r\n            if (event.keyCode == 27) this.value = '';\r\n            else if (confirmKeys.indexOf(event.keyCode) != -1) {\r\n                var tag = this.value.trim();\r\n                if (tag != '') {\r\n                    event.preventDefault();\r\n                    if (control.insertBeforeInput(tag)) control.onchange();\r\n                    this.value = ''; _input.setAttribute('size', 1);\r\n                }\r\n            }\r\n            else if (event.keyCode == 37 && this.value == '') {\r\n                _$input.insertBefore(_$input.prev()); _input.focus();\r\n            }\r\n\r\n            else if (event.keyCode == 39 && this.value == '') {\r\n                _$input.insertAfter(_$input.next()); _input.focus();\r\n            }\r\n\r\n        });\r\n        _$input.focusout(function () {\r\n            var newTag = this.value.trim();\r\n            if (control.insertBeforeInput(newTag)) control.onchange();\r\n\r\n            this.value = ''; _input.setAttribute('size', 1);\r\n        });\r\n\r\n        /// startup property\r\n        if (option != undefined) {\r\n            if (option.value != undefined) this.value = option.value;\r\n            if (option.confirmKeys != undefined) this.confirmKeys = option.confirmKeys;\r\n        }\r\n        \r\n    }\r\n    intell.controls.ComboBox = function ComboBox(element, option) {\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__ComboBox__ != undefined) return element.__ComboBox__;\r\n        if (this instanceof ComboBox == false) return new ComboBox(element, option);\r\n        //////////////////////////////////////////////\r\n        /** @type {Intell.Controls.ComboBox} */\r\n        var control = element.__ComboBox__ = this;\r\n        var $element = $(element);\r\n        var $options = $element.find('.Options');\r\n        control.element = element;\r\n\r\n\r\n        var selectedIndex = -1;\r\n        var selectedElement = undefined;\r\n        var popupLocations = [9, 1];\r\n        var popupOption = { insideWindow: true, space: -1 };\r\n            \r\n        // properties\r\n        Object.defineProperties(this, {\r\n            selectedIndex: {\r\n                get: function() { return selectedIndex  },\r\n                set: function(newValue) {\r\n                    // In this block, when user set a value to selectedIndex\r\n                    // Display html of selected item, \r\n\r\n                    // 1. ignore if new nalue is same current value\r\n                    // 2. if newValue is outside range [0, childElementCount], set selectedIndex to -1\r\n                    // 3. display label base on selectedIndex\r\n                    // 4. raise onlabel event to get some information.\r\n\r\n\r\n                    // --1--\r\n                    if (newValue == selectedIndex) return;\r\n\r\n                    // --2--\r\n                    var options_element = $options[0];\r\n                    if (newValue < 0 || options_element.childElementCount <= newValue) selectedIndex = -1;\r\n                    else selectedIndex = newValue;\r\n\r\n                    // --3--\r\n                    if (selectedIndex == -1) {\r\n                        $element.find('.Selected-Option').html('');\r\n                    } else {\r\n                        // --4--\r\n                        var e_onlabel = new intell.Event();\r\n                        var target = e_onlabel.target = $options[0].children[selectedIndex];\r\n                        control.onlabel(e_onlabel);\r\n                        \r\n                        if (e_onlabel.defaultPrevented == false)\r\n                            $element.find('.Selected-Option').html(target.outerHTML);\r\n                    }\r\n\r\n                }\r\n            },\r\n            selectedElement: {\r\n                get: function() { return $options[0].children[selectedIndex]; }\r\n            },\r\n            popupLocations: {\r\n                get: function() { return popupLocations },\r\n                set: function(newValue) {\r\n                    if (Array.isArray(newValue) == false) throw \"newValue must be Array\";\r\n\r\n                    popupLocations = newValue;\r\n                }\r\n            },\r\n            popupOption: {\r\n                get: function() { return popupOption },\r\n                set: function(newValue) { popupOption = newValue; }\r\n            }\r\n        });\r\n\r\n        // events\r\n        control.onlabel = intell.createEventFunction();\r\n        control.onchange = intell.createEventFunction();\r\n\r\n        // methods\r\n\r\n        $element.mousedown(function(e) {\r\n            // show dropdown menu when click on control but not from \".Options\"\r\n\r\n            var ev = e.originalEvent;\r\n            if (ev.button != 0) return;\r\n\r\n            if ($(ev.target).parentsUntil(element, '.Options').length == 0) {\r\n\r\n                if ($options.is(':visible') == false) {\r\n                    intell.showAt(element, $options[0], popupLocations, popupOption);\r\n\r\n                    //ev.preventDefault();\r\n                }\r\n                else\r\n                    $options.hide();\r\n            }\r\n            \r\n        });\r\n        $element.on('click', '.Options>*', function(e) {\r\n            var ev = e.originalEvent;\r\n\r\n            var $option = $(ev.target).closest('.Options>*');\r\n            var index = $option.index();\r\n\r\n            if (selectedIndex == index) {\r\n\r\n            } else {\r\n                control.selectedIndex = index;\r\n                control.onchange();\r\n            } \r\n            $options.hide();\r\n        });\r\n        $element.clickoutside(function() { $options.hide() });\r\n\r\n\r\n        if (option) {\r\n            if (option.selectedIndex != undefined) control.selectedIndex = option.selectedIndex;\r\n        }\r\n    }\r\n\r\n    /** @class */\r\n    intell.controls.TargetPopup = function TargetPopup(element, overrideOption) {\r\n        if (element instanceof jQuery == true) element = element[0];\r\n        if (element.__TargetPopup__ != undefined) return element.__TargetPopup__;\r\n        if (this instanceof TargetPopup == false) return new TargetPopup(element, overrideOption);\r\n        //////////////////////////////////////////////\r\n        var popup = element.__TargetPopup__ = this;\r\n        \r\n        this.element = element;\r\n        var $element = this.$element = $(element);\r\n        //properties\r\n        var target;\r\n        var autoHide = true;\r\n        var locations = [1, 3, 9, 7];\r\n        var option = {  insideWindow: true, space: 5, margin: 4 };\r\n        var previousSolution;\r\n\r\n        var delayHideTime = 500;\r\n        var delayHideClass = 'OUT';\r\n        var activeClass = 'ACTIVE';\r\n        var targetActiveClass = 'ACTIVE';\r\n        //private \r\n        var isVisible = false;\r\n        var isFadingOut = false;\r\n\r\n        Object.defineProperties(this, {\r\n            target: {\r\n                get: function () { return target },\r\n                set: function (newValue) { this.setTarget(newValue) }\r\n            },\r\n            autoHide: {\r\n                get: function () { return autoHide },\r\n                set: function (newValue) { autoHide = newValue }\r\n            },\r\n            locations: {\r\n                get: function () { return locations },\r\n                set: function (newValue) { locations = newValue }\r\n            },\r\n            option: {\r\n                get: function () { return option },\r\n                set: function (newValue) { option = newValue }\r\n            },\r\n            previousSolution: { get: function () { return previousSolution } },\r\n\r\n            delayHideTime: {\r\n                get: function () { return delayHideTime },\r\n                set: function (newValue) { delayHideTime = newValue }\r\n            },\r\n            delayHideClass: {\r\n                get: function () { return delayHideClass },\r\n                set: function (newValue) { delayHideClass = newValue }\r\n            },\r\n            activeClass: {\r\n                get: function () { return activeClass },\r\n                set: function (newValue) { activeClass = newValue }\r\n            },\r\n            targetActiveClass: {\r\n                get: function () { return targetActiveClass },\r\n                set: function (newValue) { targetActiveClass = newValue }\r\n            }\r\n        });\r\n\r\n        // methods\r\n        this.setTarget = function (newValue) {\r\n            if (newValue != undefined && newValue instanceof Element == false) throw 'Parameter must be element or null';\r\n            //if (newValue == target) return;\r\n            if (target != undefined && target != newValue) $(target).removeClass(targetActiveClass); // remove active for previous target\r\n\r\n            target = newValue;\r\n\r\n            if (target == undefined) popup.hide();\r\n            else {\r\n                this.show(target);\r\n                $(target).addClass(targetActiveClass);\r\n            }\r\n\r\n            return previousSolution;\r\n        }\r\n        this.show = function(arg1, arg2, arg3) {\r\n            //show(element?: HTMLElement): void\r\n            //show(offset: JQuery.CoordinatesPartial): void\r\n\r\n            var previous_isVisible = isVisible;\r\n\r\n            if (isFadingOut == true) controls.stopHide(element);\r\n            isFadingOut = false;\r\n            isVisible = true;\r\n\r\n            previousSolution = intell.showAt(arg1, element, locations, option);\r\n            $element.addClass(activeClass);\r\n\r\n            if (previous_isVisible == false) popup.onshow();\r\n        }\r\n\r\n        this.hide = function() {\r\n            if (isVisible == false) {\r\n                // 1. Invisible \r\n            } else if (isVisible == true && isFadingOut == true) {\r\n                // 2. Visible, Fadeout\r\n            } else {\r\n                // 4. Visible completely\r\n\r\n                isFadingOut = true;\r\n\r\n                $element.removeClass(activeClass);\r\n                controls.startHide(element, delayHideTime, delayHideClass, function() {\r\n                    isVisible = false\r\n                    isFadingOut = false;\r\n                    popup.onhide();\r\n                })\r\n            }\r\n        }\r\n\r\n        //events\r\n        this.onshow = intell.createEventFunction();\r\n        this.onhide = intell.createEventFunction();\r\n\r\n        $element.clickoutside(function (event) {\r\n            if (autoHide == false) return;\r\n            if (target == undefined) return;\r\n            if ($(event.target).closest(target).length > 0) return;\r\n\r\n            popup.target = undefined;\r\n        });\r\n\r\n        \r\n        if (overrideOption != undefined) {\r\n\r\n            if (overrideOption.autoHide != undefined) this.autoHide = overrideOption.autoHide;\r\n            if (overrideOption.locations != undefined) this.locations = overrideOption.locations;\r\n\r\n            if (overrideOption.delayHideTime != undefined) this.delayHideTime = overrideOption.delayHideTime;\r\n            if (overrideOption.delayHideClass != undefined) this.delayHideClass = overrideOption.delayHideClass;\r\n            if (overrideOption.activeClass != undefined) this.activeClass = overrideOption.activeClass;\r\n            if (overrideOption.targetActiveClass != undefined) this.targetActiveClass = overrideOption.targetActiveClass;\r\n            \r\n\r\n\r\n            var showOption = overrideOption.option;\r\n            if (showOption != undefined) {\r\n                if (showOption.insideRect != undefined) this.option.insideRect = showOption.insideRect;\r\n                if (showOption.space != undefined) this.option.space = showOption.space;\r\n                if (showOption.margin != undefined) this.option.margin = showOption.margin;\r\n                if (showOption.insideWindow != undefined) this.option.insideWindow = showOption.insideWindow;\r\n                if (showOption.insideOffsetParent != undefined) this.option.insideOffsetParent = showOption.insideOffsetParent;\r\n            }\r\n\r\n\r\n            \r\n\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n})();\r\n"]}